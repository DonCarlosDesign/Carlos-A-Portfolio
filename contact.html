<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta name="description" content="Contact DONCARLOS - Graphic Designer and Front-End Developer">
    <title>Contact | DONCARLOS Design</title>
    <link rel="stylesheet" href="css/style.css">
    <link rel="stylesheet" href="css/responsive.css">
    <link rel="stylesheet" href="css/animations.css">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;500;600;700&display=swap" rel="stylesheet">
    <!-- Font Awesome -->
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css">
    <!-- Prevent flash of white on page load -->
    <script>
        (function() {
            // Apply dark theme immediately if saved in localStorage
            if(localStorage.getItem('theme') === 'dark') {
                document.documentElement.classList.add('dark-theme');
                document.documentElement.style.backgroundColor = '#1a1a1a';
            }
        })();
    </script>
    <!-- Custom styles for contact page -->
    <style>
        .contact-hero-wrapper {
            max-width: 800px;
            margin: 0 auto;
            padding: 2rem;
            background-color: var(--color-bg-secondary, #f8f9fa);
            border-radius: 16px;
            box-shadow: 0 10px 30px rgba(0, 0, 0, 0.08);
        }
        
        .contact-form {
            display: flex;
            flex-direction: column;
            gap: 1.5rem;
        }
        
        .form-group {
            display: flex;
            flex-direction: column;
            gap: 0.5rem;
        }
        
        .form-group label {
            font-weight: 600;
            color: var(--color-text, #333);
        }
        
        .form-group input,
        .form-group textarea {
            padding: 1rem;
            border: 1px solid var(--color-border, #e2e8f0);
            border-radius: 8px;
            background-color: var(--color-bg, #fff);
            font-family: inherit;
            font-size: 1rem;
            transition: border-color 0.3s, box-shadow 0.3s;
        }
        
        .form-group input:focus,
        .form-group textarea:focus {
            border-color: var(--primary-color, #6938EF);
            box-shadow: 0 0 0 2px rgba(105, 56, 239, 0.2);
            outline: none;
        }
        
        /* BUTTON-FIX: Consistent style */
        .submit-btn {
            display: inline-flex;
            align-items: center;
            justify-content: center;
            gap: 0.75rem;
            padding: 0.75rem 1.5rem;
            background-color: var(--primary-color);
            color: white;
            border: none;
            border-radius: 9999px;
            font-size: 0.9rem;
            font-weight: 500;
            cursor: pointer;
            transition: all 0.3s cubic-bezier(0.175, 0.885, 0.32, 1.275);
            width: auto;
            min-width: 140px;
            height: 44px;
        }
        
        .submit-btn:hover {
            background-color: var(--secondary-color);
            transform: translateY(-3px);
            box-shadow: 0 6px 12px rgba(0, 0, 0, 0.15);
        }
        
        .submit-btn:active {
            transform: translateY(1px);
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.1);
        }
        
        .submit-btn i {
            font-size: 0.9rem;
            transition: transform 0.3s ease;
            margin-right: 0;
        }
        
        .submit-btn:hover i {
            transform: translateX(3px);
        }
        
        .form-message {
            display: none;
            align-items: center;
            gap: 1rem;
            padding: 1rem;
            border-radius: 8px;
            margin-top: 1.5rem;
        }
        
        .form-message.success {
            background-color: rgba(39, 174, 96, 0.1);
            color: #27ae60;
        }
        
        .form-message.error {
            background-color: rgba(231, 76, 60, 0.1);
            color: #e74c3c;
        }
        
        .form-message i {
            font-size: 1.5rem;
        }
        
        .website-field {
            display: none;
        }
        
        /* FAQ Section Styling */
        .faq-container {
            margin: 3rem 0;
        }
        
        .faq-item {
            border: 1px solid var(--color-border);
            border-radius: 8px;
            margin-bottom: 1rem;
            overflow: hidden;
        }
        
        .faq-question {
            display: flex;
            justify-content: space-between;
            align-items: center;
            padding: 1.5rem;
            cursor: pointer;
            font-weight: 600;
            background-color: var(--color-bg-secondary);
        }
        
        .faq-question i {
            transition: transform 0.3s ease;
        }
        
        .faq-answer {
            padding: 0 1.5rem;
            max-height: 0;
            overflow: hidden;
            transition: all 0.3s ease;
        }
        
        .faq-item.active .faq-question i {
            transform: rotate(180deg);
        }
        
        .faq-item.active .faq-answer {
            padding: 1.5rem;
            max-height: 500px;
        }
        
        /* Dark Mode Styles */
        .dark-theme .contact-hero-wrapper {
            background-color: var(--card-bg, #252525);
            box-shadow: 0 10px 25px rgba(0, 0, 0, 0.25);
        }
        
        .dark-theme .contact-hero-wrapper h2,
        .dark-theme .contact-hero-wrapper p {
            color: var(--text-color, #E2E8F0);
        }
        
        .dark-theme .form-group label {
            color: var(--text-color, #E2E8F0);
        }
        
        .dark-theme .form-group input,
        .dark-theme .form-group textarea {
            background-color: #333;
            border-color: #444;
            color: white;
        }
        
        .dark-theme .form-group input::placeholder,
        .dark-theme .form-group textarea::placeholder {
            color: #999;
        }
        
        .dark-theme .faq-item {
            background-color: var(--card-bg, #252525);
            border-color: #444;
        }
        
        .dark-theme .faq-question {
            background-color: var(--card-bg, #252525);
            color: var(--text-color, #E2E8F0);
        }
        
        .dark-theme .faq-answer {
            color: var(--text-light, #B0B0B0);
        }
        
        .dark-theme .form-message.success {
            background-color: rgba(39, 174, 96, 0.2);
        }
        
        .dark-theme .form-message.error {
            background-color: rgba(231, 76, 60, 0.2);
        }
        
        /* Responsive Styles */
        @media (max-width: 768px) {
            .contact-hero-wrapper {
                padding: 1.5rem;
            }
        }

        .storm-cloud-container {
            display: flex;
            justify-content: center;
            margin: 2rem auto;
            max-width: 300px;
        }
        
        .storm-cloud-image {
            width: 100%;
            height: auto;
            filter: drop-shadow(0 0 20px rgba(105, 56, 239, 0.3));
            transition: transform 0.3s ease, filter 0.3s ease;
        }
        
        .storm-cloud-image:hover {
            transform: translateY(-5px);
            filter: drop-shadow(0 0 25px rgba(105, 56, 239, 0.5));
        }

        /* Dark Mode Support */
        .dark-theme .storm-cloud-image {
            filter: drop-shadow(0 0 20px rgba(105, 56, 239, 0.4));
        }
        
        .dark-theme .storm-cloud-image:hover {
            filter: drop-shadow(0 0 25px rgba(105, 56, 239, 0.6));
        }
    </style>
</head>
<body>
    <!-- Header Section -->
    <header>
        <nav class="main-nav">
            <div class="logo">
                <a href="index.html">
                    <img src="images/Layer 1.svg" alt="Logo">
                    <span class="logo-text">DONCARLOS</span>
                </a>
            </div>
            <div class="nav-icons">
                <div class="theme-toggle">
                    <i class="fas fa-moon"></i>
                </div>
                <div class="mobile-menu-toggle">
                    <i class="fas fa-bars"></i>
                </div>
                <ul class="nav-links">
                    <li><a href="index.html">Home</a></li>
                    <li><a href="projects.html">Projects</a></li>
                    <li><a href="about.html">About</a></li>
                    <li><a href="contact.html" class="active">Contact</a></li>
                    <li class="mobile-theme-toggle">
                        <i class="fas fa-moon"></i>Toggle Dark Mode
                    </li>
                </ul>
            </div>
        </nav>
    </header>

    <main>
        <section id="contact-hero" class="section">
            <div class="container">
                <div class="section-header text-center">
                    <h1 class="section-title">Get in Touch</h1>
                    <p class="section-subtitle">Have a project in mind? I'm here to help bring your vision to life.</p>
                </div>

                <div class="storm-cloud-container">
                    <img src="images/vecteezy_wonderful-classic-glowing-3d-cloud-with-lightning-bolts-4k_56765374.png" alt="Glowing storm cloud with lightning bolts" class="storm-cloud-image">
                </div>
                
                <div class="contact-hero-wrapper">
                    <h2 class="section-title">Send Me a Message</h2>
                    <p>Fill out the form below with your project details, and I'll get back to you as soon as possible to discuss how we can work together.</p>
                    
                    <form id="contact-form" class="contact-form" action="#" method="POST">
                        <div class="form-group">
                            <label for="name">Full Name</label>
                            <input type="text" id="name" name="name" autocomplete="full name" required="Enter your full name" placeholder="Enter your full name">
                        </div>
                        
                        <div class="form-group">
                            <label for="email">Email Address</label>
                            <input type="email" id="email" name="email" autocomplete="email address" placeholder="Enter your email address" required>
                        </div>
                        
                        <div class="form-group">
                            <label for="subject">Subject</label>
                            <input type="text" id="subject" name="subject" autocomplete="off" placeholder="What is this about?">
                        </div>
                        
                        <div class="form-group">
                            <label for="message">Message</label>
                            <textarea id="message" name="message" autocomplete="off" rows="6" placeholder="Tell me about your project" required></textarea>
                        </div>
                        
                        <!-- Honeypot field to prevent spam -->
                        <div class="form-group website-field">
                            <label for="website">Website (Leave this empty)</label>
                            <input type="text" id="website" name="website" autocomplete="off">
                        </div>
                        
                        <button type="submit" class="submit-btn">
                            <i class="fas fa-paper-plane"></i> Send Message
                        </button>
                        
                        <div class="form-message success">
                            <i class="fas fa-check-circle"></i>
                            <span>Your message has been sent successfully!</span>
                        </div>
                        
                        <div class="form-message error">
                            <i class="fas fa-exclamation-circle"></i>
                            <span>There was an error sending your message. Please try again.</span>
                        </div>
                    </form>
                </div>
            </div>
        </section>

        <section id="faq" class="section">
            <div class="container">
                <h2 class="section-title">Frequently Asked Questions</h2>
                
                <div class="faq-container">
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>What services do you offer?</h3>
                            <span class="faq-icon">
                                <i class="fas fa-chevron-down"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>I specialize in web development, focusing on responsive design, front-end development with React.js, and back-end solutions using Node.js. I can help with building websites from scratch, redesigning existing sites, or adding specific functionality to your current platform.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>What is your typical project timeline?</h3>
                            <span class="faq-icon">
                                <i class="fas fa-chevron-down"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>Project timelines vary depending on scope and complexity. A simple website might take 2-4 weeks, while more complex applications could take several months. After our initial discussion, I'll provide you with a detailed timeline estimate for your specific project.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>How do you handle revisions?</h3>
                            <span class="faq-icon">
                                <i class="fas fa-chevron-down"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>I believe in collaborative development and include up to three rounds of revisions in my standard packages. This ensures you're completely satisfied with the final product. For additional revision requests beyond the included rounds, we can discuss a fair rate based on the scope of changes.</p>
                        </div>
                    </div>
                    
                    <div class="faq-item">
                        <div class="faq-question">
                            <h3>Do you offer maintenance after project completion?</h3>
                            <span class="faq-icon">
                                <i class="fas fa-chevron-down"></i>
                            </span>
                        </div>
                        <div class="faq-answer">
                            <p>Yes, I offer ongoing maintenance packages to keep your website secure, up-to-date, and performing optimally. These packages can include regular updates, security monitoring, performance optimization, and content updates. We can customize a maintenance plan that fits your specific needs.</p>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </main>

    <footer>
        <div class="footer-content">
            <div class="logo-small">
                <a href="index.html">
                    <img src="images/Footer-Logo-Optimized-Simple.svg" alt="DONCARLOS" class="footer-logo">
                </a>
            </div>
            <div class="social-links-footer">
                <a href="https://www.linkedin.com/in/carlosaguilarjr/" target="_blank"><i class="fab fa-linkedin-in"></i></a>
                <a href="#" target="_blank"><i class="fab fa-instagram"></i></a>
                <a href="#" target="_blank"><i class="fab fa-tiktok"></i></a>
            </div>
        </div>
        <div class="copyright">
            <p>&copy; 2025 Don Carlos Design. All Rights Reserved.</p>
            <p>Engineered at Don Carlos Design, accelerated with AI. <i class="fas fa-heart"></i></p>
        </div>
    </footer>

    <script src="js/main.js"></script>
    <script src="js/contact.js"></script>
    <script src="js/animations.js"></script>
    <script>
      document.addEventListener("DOMContentLoaded", () => {
        const form = document.getElementById("contact-form");
        const successMessage = document.querySelector(".form-message.success");
        const errorMessage = document.querySelector(".form-message.error");

        if (!form) return;

        form.addEventListener("submit", async (e) => {
          e.preventDefault();

          const name = document.getElementById("name")?.value.trim();
          const email = document.getElementById("email")?.value.trim();
          const subject = document.getElementById("subject")?.value.trim();
          const message = document.getElementById("message")?.value.trim();

          if (!name || !email || !message) {
            show(errorMessage, "Please fill in all required fields.");
            return;
          }

          try {
            const res = await fetch("/api/contact", {
              method: "POST",
              headers: {
                "Content-Type": "application/json",
              },
              body: JSON.stringify({ name, email, subject, message }),
            });

            let data;
            try {
              data = await res.json();
            } catch {
              throw new Error("Server returned invalid response.");
            }

            if (!res.ok) {
              throw new Error(data.error || "Submission failed");
            }

            show(successMessage, "Message sent successfully!");
            form.reset();
          } catch (err) {
            show(errorMessage, err.message);
          }
        });

        function show(el, text) {
          document.querySelectorAll(".form-message").forEach((m) => (m.style.display = "none"));
          if (el) {
            el.querySelector("span").textContent = text;
            el.style.display = "flex";
            setTimeout(() => (el.style.display = "none"), 5000);
          }
        }
      });
    </script>

    <script>
        document.addEventListener("DOMContentLoaded", () => {
          const form = document.getElementById("contact-form");
          const successEl = document.querySelector(".form-message.success");
          const errorEl   = document.querySelector(".form-message.error");
        
          if (!form) return;
        
          form.addEventListener("submit", async (e) => {
            e.preventDefault();
            const name    = form.name.value.trim();
            const email   = form.email.value.trim();
            const subject = form.subject.value.trim();
            const message = form.message.value.trim();
        
            if (!name || !email || !message) {
              return show(errorEl, "Please fill in all required fields.");
            }
        
            try {
              const res = await fetch("/api/contact", {
                method: "POST",
                headers: { "Content-Type": "application/json" },
                body: JSON.stringify({ name, email, subject, message }),
              });
        
              let data;
              try {
                data = await res.json();
              } catch (parseErr) {
                console.error("Could not parse JSON:", parseErr);
                const text = await res.text();
                console.error("Raw response:", text);
                throw new Error("Server returned invalid JSON");
              }
        
              if (!res.ok) {
                console.error("Server error object:", data);
                throw new Error(data.error || "Unknown server error");
              }
        
              show(successEl, "Your message has been sent!");
              form.reset();
            } catch (err) {
              console.error("Form submission error:", err.message || err);
              show(errorEl, err.message || "Failed to send message");
            }
          });
        
          function show(el, msg) {
            document.querySelectorAll(".form-message").forEach(x => x.style.display = "none");
            el.querySelector("span").textContent = msg;
            el.style.display = "flex";
            setTimeout(() => (el.style.display = "none"), 5000);
          }
        });
    </script>
        
</body>
</html>